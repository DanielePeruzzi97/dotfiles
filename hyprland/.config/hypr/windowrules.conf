# Window rules for specific applications

##############################
### GENERAL / SYSTEM FIXES ###
##############################
# Ignore maximize requests from apps
windowrulev2 = suppressevent maximize, class:.*

# Fix XWayland dragging issues
windowrulev2 = nofocus, class:^$, title:^$, xwayland:1, floating:1, fullscreen:0, pinned:0

##############################
### XWAYLANDVIDEOBRIDGE ###
##############################
# Required for Discord/WebRTC screen sharing on Wayland
windowrulev2 = opacity 0.0 override 0.0 override, class:^(xwaylandvideobridge)$
windowrulev2 = noanim, class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus, class:^(xwaylandvideobridge)$
windowrulev2 = maxsize 1 1, class:^(xwaylandvideobridge)$
windowrulev2 = noblur, class:^(xwaylandvideobridge)$

############################################
### WORKSPACE ASSIGNMENTS (Named/Purpose) ###
############################################
# 1 = DEV   - Terminals, editors (no rule needed - default)
# 2 = WEB   - Browsers
# 3 = CHAT  - Communication apps
# 4 = MEDIA - Music, videos
# 5 = FILES - File managers

# WEB → Workspace 2
windowrulev2 = workspace 2, class:^(firefox|chromium|google-chrome|brave-browser)$

# CHAT → Workspace 3
windowrulev2 = workspace 3, class:^(discord|vesktop|webcord|Slack|telegram-desktop|teams)$
windowrulev2 = opacity 0.95 0.90, class:^(discord|vesktop|webcord)$

# MEDIA → Workspace 4
windowrulev2 = workspace 4, class:^(Spotify|spotify)$
windowrulev2 = workspace 4, class:^(mpv|vlc|celluloid)$
windowrulev2 = opacity 0.95 0.90, class:^(Spotify|spotify)$

# FILES → Workspace 5
windowrulev2 = workspace 5, class:^(org.kde.dolphin|nautilus|thunar|pcmanfm|nemo)$

###############
### GAMING ###
###############
# Steam - Float popups, main window normal
windowrulev2 = float, class:^(steam)$, title:^(Friends List|Steam Settings|Game Properties)
windowrulev2 = center, class:^(steam)$, title:^(Friends List|Steam Settings|Game Properties)
windowrulev2 = size 400 600, class:^(steam)$, title:^(Friends List)$

# Steam games - Fullscreen with tearing for performance
windowrulev2 = fullscreen, class:^(steam_app_.*)$
windowrulev2 = immediate, class:^(steam_app_.*)$  # VRR/Tearing

# Lutris games
windowrulev2 = fullscreen, class:^(lutris)$, title:^(?!Lutris)
windowrulev2 = immediate, class:^(lutris)$, title:^(?!Lutris)

###############
### BROWSER ###
###############
# Firefox Picture-in-Picture
windowrulev2 = float, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrulev2 = pin, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrulev2 = size 640 360, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrulev2 = move 100%-660 50, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrulev2 = opacity 1.0 override, class:^(firefox)$, title:^(Picture-in-Picture)$

################
### HARDWARE ###
################
# ZSA Keymapp (keyboard configurator)
windowrulev2 = float, class:^(keymapp)$
windowrulev2 = center, class:^(keymapp)$
windowrulev2 = size 900 700, class:^(keymapp)$

#######################
### SYSTEM UTILITIES ###
#######################
# Bluetooth manager
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = center, class:^(blueman-manager)$
windowrulev2 = size 700 500, class:^(blueman-manager)$

# Network manager editor
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$
windowrulev2 = size 800 600, class:^(nm-connection-editor)$

# PulseAudio volume control
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$
windowrulev2 = size 800 600, class:^(pavucontrol)$

# System Monitor / htop
windowrulev2 = float, class:^(gnome-system-monitor|htop)$
windowrulev2 = center, class:^(gnome-system-monitor|htop)$
windowrulev2 = size 900 700, class:^(gnome-system-monitor|htop)$

####################
### FILE DIALOGS ###
####################
# Float all file picker dialogs
windowrulev2 = float, title:^(Open File|Save File|Open Folder|Save As|Select a File|Select Files)
windowrulev2 = float, title:^(Confirm to replace files|File Operation Progress)
windowrulev2 = center, title:^(Open File|Save File|Open Folder|Save As|Select a File|Select Files)

# KDE file dialogs
windowrulev2 = float, class:^(org.kde.dolphin)$, title:^(Copying|Moving|Deleting)
windowrulev2 = float, class:^(org.freedesktop.impl.portal.desktop.kde)$

#################
### TERMINALS ###
#################
# Terminal opacity (optional - adjust as needed)
# windowrulev2 = opacity 0.95 0.90, class:^(ghostty|kitty|Alacritty)$

##################
### EDITORS ###
##################
# VS Code / Codium on workspace 2 (optional)
# windowrulev2 = workspace 2, class:^(code|codium|Code)$
